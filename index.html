<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title></title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.9.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.9.0/mapbox-gl.css' rel='stylesheet' />
    <style>
        body {
          margin:0;
          padding:0;
          width:100%;
        }
        #map {
          position:absolute;
          top:0;
          bottom:0;
          width:100%;
        }
    </style>
</head>
<body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>
<div>
  <img id="mapimg" src="gowanus_canal.png" alt="">
  <svg id='map' x="0px" y="0px" viewBox="0 0 2516.686 6662.167" enable-background="new 0 0 2516.686 6662.167">
    <g>
      <circle id="gcss-01" fill="#FFFFFF" stroke="#000000" stroke-miterlimit="10" cx="1459" cy="107" r="25"/>
      <circle id="gcss-02" fill="#FFFFFF" stroke="#000000" stroke-miterlimit="10" cx="1459" cy="560" r="25"/>
      <circle id="gcss-03" fill="#FFFFFF" stroke="#000000" stroke-miterlimit="10" cx="1459" cy="758" r="25"/>
      <circle id="gcss-04" fill="#FFFFFF" stroke="#000000" stroke-miterlimit="10" cx="1465" cy="1158" r="25"/>
      <circle id="gcss-05" fill="#FFFFFF" stroke="#000000" stroke-miterlimit="10" cx="1555" cy="1538" r="25"/>
      <circle id="gcss-06" fill="#FFFFFF" stroke="#000000" stroke-miterlimit="10" cx="1532" cy="1762" r="25"/>
      <circle id="gcss-07" fill="#FFFFFF" stroke="#000000" stroke-miterlimit="10" cx="1512" cy="1932" r="25"/>
      <circle id="gcss-08" fill="#FFFFFF" stroke="#000000" stroke-miterlimit="10" cx="1932" cy="2112" r="25"/>
      <circle id="gcss-09" fill="#FFFFFF" stroke="#000000" stroke-miterlimit="10" cx="1112" cy="2038" r="25"/>
      <circle id="gcss-10" fill="#FFFFFF" stroke="#000000" stroke-miterlimit="10" cx="862" cy="2260" r="25"/>
      <circle id="gcss-11" fill="#FFFFFF" stroke="#000000" stroke-miterlimit="10" cx="752" cy="2550" r="25"/>
      <circle id="gcss-12" fill="#FFFFFF" stroke="#000000" stroke-miterlimit="10" cx="598" cy="2900" r="25"/>
      <circle id="gcss-13" fill="#FFFFFF" stroke="#000000" stroke-miterlimit="10" cx="648" cy="3291" r="25"/>
      <circle id="gcss-14" fill="#FFFFFF" stroke="#000000" stroke-miterlimit="10" cx="568" cy="4032" r="25"/>
    </g>
    <polygon fill="#2E3192" stroke="#8CD1E3" stroke-linejoin="round" stroke-miterlimit="10" enable-background="new    " points="
      2020,2167 2011.904,2165.504 2011,2158 1664,2129 1514,1982 992,2102 951.109,2118.911 919,2130.667 882,2149.667 834.667,2179 
      812,2197 810,2207 815,2215 1218.5,2250.5 1215.219,2280.612 1340,2293 1335.5,2345.5 756.5,2288 720.5,2329.5 691.5,2408.5 
      674.5,2497.5 734.5,2509.5 1044.5,2539.5 1037,2623.5 970,2616.5 954,2598.5 878,2593.5 873,2602.5 723,2584.5 714.214,2577.488 
      670.5,2577.5 645.5,2819.5 641.5,2819.5 602,3262 617,3273 732.172,3282.587 729.875,3329.604 614,3320 600.396,3331.195 588,3500 
      585,3509 598,3538 582,3621 568,3665.5 570.921,3696.503 575,3818.667 703.333,4244 777.432,4254.348 758.458,4425.62 
      824.456,4623.613 779.457,4920.595 702.961,4907.095 648,4941.468 561.041,5102.458 621.966,5132.087 521.471,5261.081 
      444.347,5285.496 363.977,5418.575 1256.005,5622.564 1190.436,6083.042 1156.919,6066.066 1139.438,6135.539 164.487,5958.547 
      140.139,6101.891 417.172,6167.145 392.476,6282.532 723.959,6351.529 698.46,6423.525 167.487,6312.531 138.988,6423.525 
      212.161,6438.597 198.985,6533.019 525.978,6595.952 543.785,6506.905 590.466,6516.52 587.466,6527.02 704.004,6551.126 
      709.96,6543.519 785.456,6557.018 776.456,6632.015 203.485,6549.519 174.986,6662.167 -2.338,6662.167 0,5279.07 261.983,5237.082 
      236.485,4841.101 409.086,4818.284 383.477,4643.109 579.967,4607.111 507.971,4167.632 500.195,4147.119 507.333,4132 
      491.301,3989.279 503,3988.5 470.01,3754.423 504,3756 511,3621 482,3585 501.667,3475.119 498.943,3466.99 505,3456.5 573,2812 
      553,2792.5 564.864,2779.298 605.5,2491 614,2411.5 658,2291.5 694,2235 712.5,2212 752,2166.5 794.293,2129.018 806.854,2129.417 
      844.134,2106.33 882,2086 940,2057 992,2033 1318.062,1934.68 1323.521,1939.347 1482.417,1899.304 1526,1401 1419,1141 1424,55 
      1495,55 1494,1132 1610,1385 1555,1935 1656,2046 2042,2080 2036,2138 2024,2137 "/>
    <g opacity="0.2" enable-background="new    ">
      <g>
        <polygon fill="#8CD1E3" points="0,0 0,6662.167 2.338,5279.07 264.321,5237.082 238.823,4841.101 411.424,4818.284 
          385.815,4643.109 582.305,4607.111 510.309,4167.632 502.533,4147.119 509.671,4132 493.639,3989.279 505.338,3988.5 
          472.348,3754.423 506.338,3756 513.338,3621 484.338,3585 504.005,3475.119 501.281,3466.99 507.338,3456.5 575.338,2812 
          555.338,2792.5 567.202,2779.298 607.838,2491 616.338,2411.5 660.338,2291.5 696.338,2235 714.838,2212 754.338,2166.5 
          796.631,2129.018 809.191,2129.417 846.472,2106.33 884.338,2086 942.338,2057 994.338,2033 1320.4,1934.68 1325.859,1939.347 
          1484.755,1899.304 1528.338,1401 1421.338,1141 1426.338,55 1497.338,55 1496.338,1132 1612.338,1385 1557.338,1935 
          1658.338,2046 2044.338,2080 2038.338,2138 2026.338,2137 2022.338,2167 2014.242,2165.504 2013.338,2158 1666.338,2129 
          1516.338,1982 994.338,2102 953.447,2118.911 921.338,2130.667 884.338,2149.667 837.005,2179 814.338,2197 812.338,2207 
          817.338,2215 1220.838,2250.5 1217.557,2280.612 1342.338,2293 1337.838,2345.5 758.838,2288 722.838,2329.5 693.838,2408.5 
          676.838,2497.5 736.838,2509.5 1046.838,2539.5 1039.338,2623.5 972.338,2616.5 956.338,2598.5 880.338,2593.5 875.338,2602.5 
          725.338,2584.5 716.552,2577.488 672.838,2577.5 647.838,2819.5 643.838,2819.5 604.338,3262 619.338,3273 734.51,3282.587 
          732.213,3329.604 616.338,3320 602.734,3331.195 590.338,3500 587.338,3509 600.338,3538 584.338,3621 570.338,3665.5 
          573.259,3696.503 577.338,3818.667 705.671,4244 779.77,4254.348 760.796,4425.62 826.793,4623.613 781.795,4920.595 
          705.299,4907.095 650.338,4941.468 563.379,5102.458 624.304,5132.087 523.809,5261.081 446.685,5285.496 366.315,5418.575 
          1258.343,5622.564 1192.773,6083.042 1159.257,6066.066 1141.776,6135.539 166.825,5958.547 142.477,6101.891 419.51,6167.145 
          394.813,6282.532 726.297,6351.529 700.798,6423.525 169.825,6312.531 141.326,6423.525 214.499,6438.597 201.323,6533.019 
          528.312,6595.951 528.316,6595.952 546.123,6506.905 592.804,6516.52 589.804,6527.02 706.342,6551.126 712.298,6543.519 
          787.794,6557.018 778.794,6632.015 528.316,6595.952 528.316,6595.952 528.312,6595.951 205.823,6549.519 177.324,6662.167 
          2516.686,6662.167 2516.686,0    "/>
      </g>
      <g>
        <polygon fill="none" stroke="#2E3192" stroke-linejoin="round" stroke-miterlimit="10" points="0,0 0,6662.167 2.338,5279.07 
          264.321,5237.082 238.823,4841.101 411.424,4818.284 385.815,4643.109 582.305,4607.111 510.309,4167.632 502.533,4147.119 
          509.671,4132 493.639,3989.279 505.338,3988.5 472.348,3754.423 506.338,3756 513.338,3621 484.338,3585 504.005,3475.119 
          501.281,3466.99 507.338,3456.5 575.338,2812 555.338,2792.5 567.202,2779.298 607.838,2491 616.338,2411.5 660.338,2291.5 
          696.338,2235 714.838,2212 754.338,2166.5 796.631,2129.018 809.191,2129.417 846.472,2106.33 884.338,2086 942.338,2057 
          994.338,2033 1320.4,1934.68 1325.859,1939.347 1484.755,1899.304 1528.338,1401 1421.338,1141 1426.338,55 1497.338,55 
          1496.338,1132 1612.338,1385 1557.338,1935 1658.338,2046 2044.338,2080 2038.338,2138 2026.338,2137 2022.338,2167 
          2014.242,2165.504 2013.338,2158 1666.338,2129 1516.338,1982 994.338,2102 953.447,2118.911 921.338,2130.667 884.338,2149.667 
          837.005,2179 814.338,2197 812.338,2207 817.338,2215 1220.838,2250.5 1217.557,2280.612 1342.338,2293 1337.838,2345.5 
          758.838,2288 722.838,2329.5 693.838,2408.5 676.838,2497.5 736.838,2509.5 1046.838,2539.5 1039.338,2623.5 972.338,2616.5 
          956.338,2598.5 880.338,2593.5 875.338,2602.5 725.338,2584.5 716.552,2577.488 672.838,2577.5 647.838,2819.5 643.838,2819.5 
          604.338,3262 619.338,3273 734.51,3282.587 732.213,3329.604 616.338,3320 602.734,3331.195 590.338,3500 587.338,3509 
          600.338,3538 584.338,3621 570.338,3665.5 573.259,3696.503 577.338,3818.667 705.671,4244 779.77,4254.348 760.796,4425.62 
          826.793,4623.613 781.795,4920.595 705.299,4907.095 650.338,4941.468 563.379,5102.458 624.304,5132.087 523.809,5261.081 
          446.685,5285.496 366.315,5418.575 1258.343,5622.564 1192.773,6083.042 1159.257,6066.066 1141.776,6135.539 166.825,5958.547 
          142.477,6101.891 419.51,6167.145 394.813,6282.532 726.297,6351.529 700.798,6423.525 169.825,6312.531 141.326,6423.525 
          214.499,6438.597 201.323,6533.019 528.312,6595.951 528.316,6595.952 546.123,6506.905 592.804,6516.52 589.804,6527.02 
          706.342,6551.126 712.298,6543.519 787.794,6557.018 778.794,6632.015 528.316,6595.952 528.316,6595.952 528.312,6595.951 
          205.823,6549.519 177.324,6662.167 2516.686,6662.167 2516.686,0    "/>
      </g>
    </g>
  </svg>

</div>
<script>
  var map = d3.select('#map')
  var img = d3.select('#mapimg')
  size()
  function size () {
    img.style({
      width:window.innerWidth+'px',
    })

    map.select('image').attr({
      width:map.node().getBoundingClientRect().width,
      height:map.node().getBoundingClientRect().height,
    })
  }

  d3.select(window).on('resize.index',size)
</script>

</body>
</html>
